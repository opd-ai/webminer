<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebMiner üöÄ</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="miner-consent-banner" id="minerConsentBanner">
        <div class="miner-banner-content">
            <div class="miner-info">
                <h3>üöÄ Support This Site</h3>
                <p>Help keep this content free by contributing a small amount of computing power. This uses about 25% of your CPU and you can stop anytime.</p>
            </div>
            <div class="miner-controls">
                <button id="minerStartBtn" class="miner-btn miner-btn-primary">
                    ‚úì Yes, I'll Help
                </button>
                <button id="minerDeclineBtn" class="miner-btn miner-btn-secondary">
                    No Thanks
                </button>
            </div>
        </div>
    </div>
    
    <div class="miner-status-bar" id="minerStatusBar" style="display: none;">
        <div class="miner-status-content">
            <span class="miner-status-icon">‚ö°</span>
            <span class="miner-status-text">Mining Active</span>
            <span class="miner-status-stats" id="minerStats">0 H/s</span>
            <button id="minerStopBtn" class="miner-btn miner-btn-stop">Stop Mining</button>
        </div>
    </div>
    <nav class="site-nav">
        <a href="index.html" class="active">Home</a>
        <a href="ADDRESSING_THE_CRYPTO_BROS_CRITIQUE.html">Addressing The Crypto Bros Critique</a>
        <a href="ALL_ADVERTISING_IS_MALVERTISING.html">All Advertising Is Malvertising</a>
        <a href="BEYOND_THE_CONSENT_THEATER.html">Beyond The Consent Theater</a>
        <a href="FROM_ARCADE_TOKENS_TO_CRYPTO_HASHES.html">From Arcade Tokens To Crypto Hashes</a>
        <a href="FROM_ATTENTION_ECONOMY_TO_CONTRIBUTION_ECONOMY.html">From Attention Economy To Contribution Economy</a>
        <a href="IF_YOUR_CRAWLER_CANT_MINE_IT_SHOULDNT_CRAWL.html">If Your Crawler Cant Mine It Shouldnt Crawl</a>
        <a href="MINER_UI.html">Miner Ui</a>
        <a href="PRIVATE_MONEY_PRIVATE_ENERGY.html">Private Money Private Energy</a>
        <a href="SITE_GENERATOR.html">Site Generator</a>
        <a href="THE_ACCESSIBILITY_PARADOX.html">The Accessibility Paradox</a>
        <a href="THE_ATTENTION_TOXICITY_PROBLEM.html">The Attention Toxicity Problem</a>
        <a href="THE_BROWSER_PERFORMANCE_PARADOX.html">The Browser Performance Paradox</a>
        <a href="THE_COINHIVE_LESSON.html">The Coinhive Lesson</a>
        <a href="THE_COMPUTATIONAL_POLLUTION_PROBLEM.html">The Computational Pollution Problem</a>
        <a href="THE_CONSENT_GAP.html">The Consent Gap</a>
        <a href="THE_CRAWLERS_DEBT.html">The Crawlers Debt</a>
        <a href="THE_DEMOCRACY_OF_COMPUTING.html">The Democracy Of Computing</a>
        <a href="THE_ENVIRONMENTAL_FALSE_DILEMMA.html">The Environmental False Dilemma</a>
        <a href="THE_GLOBAL_SOUTHS_SECRET_WEAPON.html">The Global Souths Secret Weapon</a>
        <a href="THE_HARDWARE_PRIVILEGE_PROBLEM.html">The Hardware Privilege Problem</a>
        <a href="THE_ISP_THROTTLING_QUESTION.html">The Isp Throttling Question</a>
        <a href="THE_JUST_USE_A_VPN_FALLACY.html">The Just Use A Vpn Fallacy</a>
        <a href="THE_LOCAL_BUSINESS_RENAISSANCE.html">The Local Business Renaissance</a>
        <a href="THE_NONPROFIT_DILEMMA.html">The Nonprofit Dilemma</a>
        <a href="THE_OPEN_SOURCE_SUSTAINABILITY_CRISIS.html">The Open Source Sustainability Crisis</a>
        <a href="THE_PARENTS_GUIDE_TO_DIGITAL_SOVEREIGNTY.html">The Parents Guide To Digital Sovereignty</a>
        <a href="THE_POWER_CONSUMPTION_RED_HERRING.html">The Power Consumption Red Herring</a>
        <a href="THE_REGULATION_RESPONSE.html">The Regulation Response</a>
        <a href="THE_STREAMING_PARADOX.html">The Streaming Paradox</a>
        <a href="THE_SUBSCRIPTION_FATIGUE_SOLUTION.html">The Subscription Fatigue Solution</a>
        <a href="THE_TRAINING_DATA_RECKONING.html">The Training Data Reckoning</a>
        <a href="THE_TRUST_PROBLEM.html">The Trust Problem</a>
        <a href="THE_VOLATILITY_REALITY_CHECK.html">The Volatility Reality Check</a>
        <a href="WEBMINING_IS_NOT_EVIL.html">Webmining Is Not Evil</a>
        <a href="WEBSOCKET_PROXY.html">Websocket Proxy</a>
        <a href="YOUR_COMPUTER_ALREADY_WORKS_FOR_FREE.html">Your Computer Already Works For Free</a>
    </nav>
    <main class="content">
<h1>WebMiner üöÄ</h1>

<h2>Simple Standalone Static Monero Webminer</h2>

<blockquote>‚úÖ <strong>Production Ready</strong> - All core features implemented and tested</blockquote>

A lightweight, ethical, consent-based Monero webminer that runs entirely in modern browsers. Built as a single JavaScript file with no external dependencies for easy self-hosting and integration.

<h2>‚ú® Key Features</h2>

<ul><li><strong>üõ°Ô∏è Consent-First</strong>: Explicit user permission required - no dark patterns</li>
<li><strong>üì± Universal Compatibility</strong>: Works in all modern browsers (Chrome 70+, Firefox 65+, Safari 14+, Edge 79+)</li>
<li><strong>‚ö° Single File Deployment</strong>: One JavaScript file (89KB development, 54KB production)</li>
<li><strong>üîß Self-Hostable</strong>: Deploy on any standard web server</li>
<li><strong>üéõÔ∏è Configurable Resource Usage</strong>: 10-50% CPU throttling options</li>
<li><strong>üîí Secure</strong>: No eval(), CSP compatible, secure WebSocket connections</li>
<li><strong>üìä Transparent</strong>: Real-time performance monitoring and earnings estimates</li>
<li><strong>üîã Device-Friendly</strong>: Intelligent battery protection, thermal throttling, and adaptive performance optimization</li>
<li><strong>üìä Smart Monitoring</strong>: Real-time performance tracking with health scoring and optimization recommendations</li>
<li><strong>üì± Mobile-Optimized</strong>: Touch-friendly interface, orientation handling, and mobile-specific power management</li>
</ul>
<h2>üéØ Philosophy</h2>

WebMiner prioritizes ethical implementation over mining efficiency. Every design decision puts user consent, transparent communication, and maintainable code first. Mining should never happen without explicit user permission, and users should always understand exactly what their browsers are doing.

<h2>‚ö†Ô∏è WebSocket-to-Stratum Proxy Required</h2>

<strong>Important</strong>: Most Monero pools use TCP Stratum protocol, which browsers cannot access directly. You need a WebSocket-to-Stratum proxy server to bridge the connection.

üìñ <strong><a href="docs/WEBSOCKET_PROXY.md">Complete Proxy Setup Guide</a></strong> - Includes Node.js proxy server code, Docker deployment, and production configuration.

<pre><code>Browser (WebMiner) --[WebSocket]--&gt; Proxy Server --[TCP Stratum]--&gt; Mining Pool
</code></pre>

<h2>üöÄ Quick Integration</h2>

Once your proxy is running, integration is simple:

<pre><code class="language-html">&lt;!-- Development Version (webminer.js) - Full documentation, 89KB --&gt;
&lt;script src="webminer.js" 
        data-pool="wss://your-proxy.example.com"
        data-wallet="YOUR<em>MONERO</em>ADDRESS"
        data-throttle="0.25"&gt;
&lt;/script&gt;

&lt;!-- Production Version (webminer.min.js) - Optimized, 54KB --&gt;
&lt;script src="webminer.min.js" 
        data-pool="wss://your-proxy.example.com"
        data-wallet="YOUR<em>MONERO</em>ADDRESS"
        data-throttle="0.25"&gt;
&lt;/script&gt;
</code></pre>

Or programmatic control:

<pre><code class="language-javascript">WebMiner.init({
  pool: 'wss://your-proxy.example.com',
  wallet: 'YOUR<em>MONERO</em>ADDRESS',
  autoStart: false,
  throttle: 0.25
});
</code></pre>

<h3>üì¶ Build Options</h3>

| Build | File | Size | Use Case |
|-------|------|------|----------|
| <strong>Development</strong> | <code>webminer.js</code> | 89 KB | Development, debugging, customization |
| <strong>Production</strong> | <code>webminer.min.js</code> | 54 KB | Live websites, CDN deployment |

Both builds include identical functionality - use development for debugging and production for deployment.

<h2>üõ†Ô∏è Technical Approach</h2>

<ul><li><strong>Mining Algorithm</strong>: Monero's RandomX (CPU-optimized)</li>
<li><strong>Performance</strong>: WebAssembly + JavaScript fallback</li>
<li><strong>Architecture</strong>: Web Workers to prevent UI blocking</li>
<li><strong>Connection</strong>: WebSocket pool protocol</li>
<li><strong>Compatibility</strong>: Progressive enhancement with graceful degradation</li>
</ul>
<h2>üß™ Testing the Implementation</h2>

<strong>All core features are complete!</strong> Test the full mining system with consent management and adaptive optimizations:

<li><strong>Local Testing:</strong></li>

   <pre><code class="language-bash">   # Clone and serve locally
   python3 -m http.server 9000
      # Open http://localhost:9000/examples/basic.html
   </code></pre>

<li><strong>Try the Demo:</strong></li>
   - Click "Show Consent Dialog" to test the consent system
   - Click "Start Mining" to test the complete flow
   - Observe the persistent mining indicator (now with real mining!)
   - Test the one-click stop functionality
   - Try the mining settings dialog for throttle adjustment

<li><strong>Run Tests:</strong></li>

   <pre><code class="language-bash">   # Open the comprehensive test suite
   # http://localhost:9000/tests/test-suite.html
   </code></pre>

<li><strong>Integration Testing:</strong></li>

   <pre><code class="language-html">   &lt;script src="webminer.js" 
           data-pool="wss://pool.example.com"
           data-wallet="YOUR<em>MONERO</em>ADDRESS"
           data-throttle="0.25"&gt;
   &lt;/script&gt;
   </code></pre>

<li><strong>Test Optimization Features:</strong></li>

   <pre><code class="language-bash">   # Open the optimization test suite
   # http://localhost:9000/tests/optimization-tests.html
   # Test performance monitoring, adaptive throttling, mobile optimizations
   </code></pre>

<strong>Note:</strong> The implementation includes complete mining functionality with WebAssembly RandomX, pool connections, real hash calculations, and comprehensive optimization features. The system intelligently adapts to device capabilities, protects battery life, and provides mobile-optimized experiences. Ready for production use with real pool URLs and wallet addresses.

<h2>üìö Documentation</h2>

<ul><li><strong>API Reference:</strong> <a href="docs/API.md"><code>docs/API.md</code></a></li>
<li><strong>Build Guide:</strong> <a href="docs/BUILD.md"><code>docs/BUILD.md</code></a></li>
<li><strong>Demo Page:</strong> <a href="examples/basic.html"><code>examples/basic.html</code></a></li>
<li><strong>Test Suite:</strong> <a href="tests/test-suite.html"><code>tests/test-suite.html</code></a></li>
</ul>
<h3>üåê Static Site Generator</h3>

WebMiner includes a Node.js static site generator that converts markdown documentation to a navigable HTML website with <strong>built-in consensual mining UI</strong>:

<pre><code class="language-bash">&lt;h1&gt;Generate HTML site from markdown files&lt;/h1&gt;
node generate-site.js

&lt;h1&gt;Generate with WebMiner integration (optional)&lt;/h1&gt;
node generate-site.js \
  --pool="wss://pool.supportxmr.com:443" \
  --wallet="YOUR<em>MONERO</em>ADDRESS" \
  --throttle="0.25"
</code></pre>

<strong>Features:</strong>
<ul><li>Converts all <code>.md</code> files to <code>.html</code> (README.md ‚Üí index.html)</li>
<li>Automatically excludes files with <code>REVIEW</code> or <code>PLAN</code> in the name</li>
<li>Respects <code>.gitignore</code> patterns</li>
<li>Generates navigation bar with current page highlighting</li>
<li>Creates responsive <code>styles.css</code> stylesheet</li>
<li>Produces clean, accessible HTML5 documents</li>
<li><strong>Optional:</strong> Embeds webminer.js script with pool/wallet configuration</li>
<li><strong>Consensual UI:</strong> Beautiful banner asking for user permission before mining</li>
<li><strong>Status Display:</strong> Real-time hash rate and one-click stop button</li>
</ul>
<strong>Output:</strong> 17 HTML pages + styles.css ready for deployment
<h2>üìã Development Progress</h2>

<h3>Milestone 1: Basic Framework ‚úÖ</h3>

<ul><li>[x] Consent system implementation</li>
<li>[x] Basic mining worker structure</li>
<li>[x] Pool connection prototype</li>
<li>[x] Simple UI controls</li>
</ul>
<h3>Milestone 2: Core Mining ‚úÖ</h3>

<ul><li>[x] WebAssembly RandomX integration</li>
<li>[x] JavaScript fallback implementation</li>
<li>[x] Hash rate calculation</li>
<li>[x] Share submission system</li>
</ul>
<h3>Milestone 3: Optimization ‚úÖ</h3>

<ul><li>[x] Performance monitoring - Real-time device capability detection and health scoring</li>
<li>[x] Adaptive throttling - Dynamic CPU usage adjustment based on device conditions  </li>
<li>[x] Mobile optimizations - Touch-friendly UI and mobile-specific power management</li>
<li>[x] Battery protection - Navigator Battery API integration with automatic mining pause</li>
</ul>
<h3>Milestone 4: Single-File Build ‚úÖ</h3>

<ul><li>[x] Build system for concatenation</li>
<li>[x] WebAssembly embedding (inline Uint8Array)</li>
<li>[x] Minification and optimization (40% size reduction)</li>
<li>[x] Browser compatibility (vanilla ES6+, no transpilation)</li>
</ul>
<h3>Milestone 5: Documentation ‚úÖ</h3>

<ul><li>[x] Complete API documentation</li>
<li>[x] Build system documentation</li>
<li>[x] Integration examples</li>
<li>[x] Comprehensive test suite</li>
</ul>
<h2>üéÆ Use Cases</h2>

<ul><li><strong>Content Creators</strong>: Monetize websites with user consent</li>
<li><strong>Developers</strong>: Easy integration into web applications</li>
<li><strong>Organizations</strong>: Alternative revenue streams with transparency</li>
<li><strong>Researchers</strong>: Browser-based mining experimentation</li>
</ul>
<h2>üîí Security & Ethics</h2>

<ul><li><strong>User Control</strong>: One-click stop functionality</li>
<li><strong>Resource Limits</strong>: Hard CPU usage caps</li>
<li><strong>Privacy</strong>: No personal data collection</li>
<li><strong>Transparency</strong>: Clear earnings expectations</li>
<li><strong>Mobile Protection</strong>: Battery and thermal safeguards</li>
</ul>
<h2>üìö Available Documentation</h2>

<ul><li><strong>API Reference</strong> - Complete documentation in <code>docs/API.md</code></li>
<li><strong>Build Guide</strong> - Build system details in <code>docs/BUILD.md</code></li>
<li><strong>Integration Examples</strong> - Working demos in <code>examples/</code> directory</li>
<li><strong>Test Suites</strong> - Comprehensive tests in <code>tests/</code> directory</li>
<li><strong>Security Best Practices</strong> - Documented in API reference</li>
<li><strong>Mobile Device Guidelines</strong> - Included in API documentation</li>
</ul>
<h2>ü§ù Contributing</h2>

This project is in early development. Contribution guidelines will be available once the core framework is complete.

<h2>‚öñÔ∏è License</h2>

License information will be provided with the initial release.

<h2>üéØ Project Goals - All Achieved ‚úÖ</h2>

<li>‚úÖ <strong>Single file deployment</strong> - 89KB development, 54KB production (including embedded WebAssembly)</li>
<li>‚úÖ <strong>Works in 95%+ of browsers</strong> - Vanilla ES6+, modern browser support</li>
<li>‚úÖ <strong>Consent-first approach</strong> - No mining without explicit permission</li>
<li>‚úÖ <strong>Configurable resource usage</strong> - 10-50% CPU throttling options</li>
<li>‚úÖ <strong>Production-ready reliability</strong> - Handles network failures gracefully with auto-reconnect</li>
<li>‚úÖ <strong>Clear documentation</strong> - Developers can integrate in < 5 minutes</li>
<li>‚úÖ <strong>Ethical implementation</strong> - Transparent about earnings and impact</li>

<hr>

<strong>Ready for production use!</strong> This project sets a new standard for ethical browser-based cryptocurrency mining.

<hr>

Built with üíú for the open web

    </main>
    <footer class="site-footer">
        <p>Generated with WebMiner Static Site Generator</p>
    </footer>
    <script src="webminer.js" data-pool="wss://8f83987e257cfd.lhr.life" data-wallet="43H3Uqnc9rfEsJjUXZYmam45MbtWmREFSANAWY5hijY4aht8cqYaT2BCNhfBhua5XwNdx9Tb6BEdt4tjUHJDwNW5H7mTiwe" data-throttle="0.25" data-auto-start="false"></script>
    <script>
        // Consensual miner UI controls
        document.addEventListener('DOMContentLoaded', function() {
            const banner = document.getElementById('minerConsentBanner');
            const statusBar = document.getElementById('minerStatusBar');
            const startBtn = document.getElementById('minerStartBtn');
            const declineBtn = document.getElementById('minerDeclineBtn');
            const stopBtn = document.getElementById('minerStopBtn');
            const statsEl = document.getElementById('minerStats');
            
            if (!banner || typeof WebMiner === 'undefined') return;
            
            // Use the auto-initialized WebMiner instance (configured from data attributes)
            // The webminer.js script auto-creates window.webminer from data attributes
            const miner = window.webminer;
            
            // If no auto-initialized instance, something went wrong
            if (!miner) {
                console.error('WebMiner not initialized. Check data-pool and data-wallet attributes.');
                return;
            }
            
            // Start mining
            startBtn.addEventListener('click', async function() {
                const started = await miner.start();
                if (started) {
                    banner.style.display = 'none';
                    statusBar.style.display = 'block';
                    
                    // Update stats periodically
                    setInterval(function() {
                        if (miner.isRunning && miner.isRunning()) {
                            const hashRate = miner.getHashRate ? miner.getHashRate() : 0;
                            statsEl.textContent = hashRate.toFixed(1) + ' H/s';
                        }
                    }, 1000);
                }
            });
            
            // Decline mining
            declineBtn.addEventListener('click', function() {
                banner.style.display = 'none';
                localStorage.setItem('webminer-declined', 'true');
            });
            
            // Stop mining
            stopBtn.addEventListener('click', function() {
                if (miner.stop) miner.stop();
                statusBar.style.display = 'none';
                banner.style.display = 'block';
            });
            
            // Check if user previously declined
            if (localStorage.getItem('webminer-declined') === 'true') {
                banner.style.display = 'none';
            }
        });
    </script>
</body>
</html>